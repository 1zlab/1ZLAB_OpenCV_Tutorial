# 二自由度云台人脸追踪-视频大纲



## 零配件采购手册

### 图像采集设备

> 三选1

1. USB摄像头
2. 手机 （安装一个叫做 (**IP摄像头** 的APP）（Android ， IOS） 
3. WIFI摄像头

> IP摄像头 APP 使用帮助手册



### 舵机云台

> Note: 带轴层的舵机云台，考虑到造价， 1Z实验室社群考虑使用3D打印结构。
>
> 

两款舵机云台

> 我们使用的这款比较便宜, 但是连接处不是很稳定，负载都集中到底部的舵机连接件上， 结构设计不合理， 就是便宜，不耐用。 因为我们末端固定了一个手机，所以惯性比较大。

* [简易版云台](https://item.taobao.com/item.htm?spm=a1z09.2.0.0.49852e8ddSPndE&id=566360830505&_u=522ml0qb0c2d)  （不推荐，材料是铝件，很软）
* [平衡小车之家 ](https://item.taobao.com/item.htm?spm=2013.1.20141003.6.17dbc9322JEep3&scm=1007.10011.70203.100200300000001&id=560120308139&pvid=e5d5cac0-3335-470b-95e8-828250bb9566) 全套 188  不带底盘   



![](https://img.alicdn.com/imgextra/i2/723377223/TB2u6nzj6uhSKJjSspjXXci8VXa_!!723377223.jpg)





> 这种更好一些

> 机械改进思路：
>
> 把底板改成 小车底板, 增强其复用性，下面装上电机就是小车。
>
> 

### 夹具

> 如果采用简易的舵机云台， 舵机云台的底板底部需要用夹具夹住，要不然老晃， 不稳。 
>
> 手机还容易摔。



[桌面G形夹具](https://item.taobao.com/item.htm?spm=a1z09.2.0.0.49852e8ddSPndE&id=573310143093&_u=522ml0qb82cd)

> PS 这款就是比较丑

![](https://img.alicdn.com/imgextra/i3/2532666613/TB2x5hmkrZnBKNjSZFKXXcGOVXa_!!2532666613.jpg)



### 手机支架

[手机通用支架](https://detail.tmall.com/item.htm?id=555948785109&spm=a1z09.2.0.0.49852e8ddSPndE&_u=522ml0qbd4aa)

![手机支架](https://img.alicdn.com/imgextra/i4/1740412451/TB2NgyCbe285uJjSZFwXXc.cVXa_!!1740412451.jpg)

### 连接件

[金属热靴座标准上下锁紧1/4单层](https://item.taobao.com/item.htm?spm=a1z09.2.0.0.49852e8ddSPndE&id=542627043145&_u=522ml0qb4e77)![热靴](https://img.alicdn.com/imgextra/i3/2400225276/TB2OOk4flyN.eBjSZFIXXXbUVXa_!!2400225276.jpg)



## PID控制之P比例控制

简单介绍思想，调整舵机云台的角度，使得画面中的人脸

偏移量 Offset

比例系数Kp



人脸区域的矩形中心，举例画面中心的举例（x轴与y轴分别代表两个偏移量）

分别对待，先拆看来看，第一步光看x轴， 对应到底部舵机云台的转动角度。



整个控制流程属于开环控制

偏移像素 --> 偏移百分比 --> 乘系数  转换成偏转角度 --> 设定最大的偏转角度 --> 执行操作



  

## 硬件部分



* PWM控制舵机
* 舵机云台校准： （90度位置校准，角度与方向）
* 串口通信（通信协议  数据解析）
* I2C 舵机控制板 （pca9685 使用方法介绍）





